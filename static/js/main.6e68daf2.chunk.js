(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a(294)},131:function(e,t,a){},133:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(24),o=a.n(l),r=(a(131),a(18)),i=a(19),s=a(21),u=a(20),m=a(22),d=(a(133),a(14)),h=a(75),p=a(125),k=a.n(p),f=a(74),b=a.n(f),E=a(124),S=a.n(E),v=a(116),g=a.n(v),O=a(296),y=a(28),C=a.n(y),j=a(117),T=a.n(j),N=a(118),w=a.n(N),V=a(114),A=a.n(V),x=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={stocks:e.stocks},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.stocks,n=e.checkMarkClick,l=e.currencySymbol;return a.forEach(function(e){e.value||(e.value=0,e.total=0)}),a.forEach(function(e){console.log(e)}),c.a.createElement(A.a,null,c.a.createElement("colgroup",null,c.a.createElement("col",{width:"10%"}),c.a.createElement("col",{width:"15%"}),c.a.createElement("col",{width:"25%"}),c.a.createElement("col",{width:"25%"}),c.a.createElement("col",{width:"25%"})),c.a.createElement(g.a,null,c.a.createElement(O.a,{className:t.tableHead},c.a.createElement(C.a,{className:t.tableCell},"Select"),c.a.createElement(C.a,{className:t.tableCell},"Name"),c.a.createElement(C.a,{className:t.tableCell},"Unit value"),c.a.createElement(C.a,{className:t.tableCell},"Quantity"),c.a.createElement(C.a,{className:t.tableCell},"Total value"))),c.a.createElement(T.a,{className:t.tableBody},a.map(function(e){return c.a.createElement(O.a,{className:t.tableRow,key:e.name},c.a.createElement(C.a,{className:t.tableCell},c.a.createElement(w.a,{className:t.checkbox,onChange:function(){return n(e.name)}})),c.a.createElement(C.a,{className:t.tableCell},e.name),c.a.createElement(C.a,{className:t.tableCell},parseFloat(e.value).toFixed(2),l),c.a.createElement(C.a,{className:t.tableCell},e.quantity),c.a.createElement(C.a,{className:t.tableCell},e.total.toFixed(2),l))})))}}]),t}(n.Component),R=a(76),F=a.n(R),D=a(120),B=a.n(D),J=a(119),M=a.n(J),U=a(123),q=a.n(U),H=a(121),W=a.n(H),_=a(122),I=a.n(_),$=a(27),P=a.n($),G=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).nameChange=function(e){a.setState({stockName:e.target.value})},a.amountChange=function(e){a.setState({stockAmount:e.target.value})},a.clearState=function(){a.setState({stockName:"",stockAmount:""})},a.state={stockName:"",stockAmount:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){!1===this.props.isOpen&&!0===e.isOpen&&this.clearState()}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.isOpen,n=e.closeDialog,l=e.submitStock,o=this.state,r=o.stockName,i=o.stockAmount;return c.a.createElement(M.a,{open:a,"aria-labelledby":"form-dialog-title"},c.a.createElement(B.a,{id:"form-dialog-title"},"Adding stock to portfolio: ",t),c.a.createElement(W.a,null,c.a.createElement(I.a,null,"Please enter your new stock's name and quantity below:"),c.a.createElement(F.a,{autoFocus:!0,margin:"dense",label:"Stock name",value:r,onChange:this.nameChange}),c.a.createElement(F.a,{margin:"dense",label:"Amount of stock",type:"number",value:i,onChange:this.amountChange})),c.a.createElement(q.a,null,c.a.createElement(P.a,{onClick:n,color:"primary"},"Cancel"),c.a.createElement(P.a,{onClick:function(){return l(r,i)},color:"primary"},"Add")))}}]),t}(n.Component),Y=a(29),L=a.n(Y),X=a(38),Q=a.n(X),z=a(32),K=a.n(z),Z=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,n=e.eurosSelected,l=e.changeCurrency;return c.a.createElement(K.a,{className:t.portfolioHeader},c.a.createElement(L.a,{container:!0},c.a.createElement(L.a,{item:!0,xs:7},c.a.createElement(Q.a,{noWrap:!0,variant:"h6"},a)),c.a.createElement(L.a,{item:!0,xs:!0},c.a.createElement(P.a,{onClick:l,variant:n?"contained":"outlined",value:"euro",color:"primary"},"\u20ac")),c.a.createElement(L.a,{item:!0,xs:!0},c.a.createElement(P.a,{onClick:l,variant:n?"outlined":"contained",value:"dollar",color:"primary"},"$"))))}}]),t}(n.Component),ee=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.totalValue,n=e.addStock,l=e.noCheckedStocks,o=e.deleteCheckedStock,r=e.currencySymbol;return c.a.createElement(K.a,{className:t.portfolioFooter},c.a.createElement(Q.a,{variant:"caption"},"Total value of portfolio: ",a.toFixed(2),r),c.a.createElement(L.a,{container:!0,justify:"space-evenly"},c.a.createElement(L.a,{item:!0},c.a.createElement(P.a,{variant:"contained",onClick:n},"add stock")),c.a.createElement(L.a,{item:!0},c.a.createElement(P.a,{variant:"contained"},"perf. Graph")),c.a.createElement(L.a,{item:!0},c.a.createElement(P.a,{disabled:l,variant:"outlined",color:"secondary",onClick:o},"Delete"))))}}]),t}(n.Component),te=a(77),ae=function(e){return{deleteButton:{padding:0},portfolio:Object(te.a)({width:"400px",height:"325px"},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),portfolioBase:{height:"300px"},portfolioHeader:Object(te.a)({},e.mixins.gutters(),{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,marginBottom:"3px"}),portfolioFooter:{padding:e.spacing.unit},tableWrapper:{height:"175px",overflowY:"scroll"},tableCell:{width:"20px",padding:"2px",textAlign:"center"},tableHead:{backgroundColor:"#fff",position:"sticky",top:0},tableRow:{height:"50px"},checkbox:{padding:"8px"}}},ne="https://www.alphavantage.co/query?",ce="H0LW74TMCBD0BJ0F";function le(e){return new Promise(function(t,a){var n=new XMLHttpRequest,c=ne+e+"&apikey="+ce;n.open("GET",c),n.onload=function(){200===n.status?t(n.response):a(Error(n.statusText))},n.onerror=function(){a(Error("Network Error"))},n.send()})}var oe=[{name:"MSFT",quantity:16}],re=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={eurosSelected:!0,totalValue:0,checkedStock:[],deleteStockButtonEnabled:!1,addStockDialogOpen:!1,rows:oe,EurToUsdRatio:1},t.parseStockValueFromAAJSON=t.parseStockValueFromAAJSON.bind(Object(d.a)(Object(d.a)(a))),a.checkMarkClick=a.checkMarkClick.bind(Object(d.a)(Object(d.a)(a))),a.deleteCheckedStock=a.deleteCheckedStock.bind(Object(d.a)(Object(d.a)(a))),a.addStock=a.addStock.bind(Object(d.a)(Object(d.a)(a))),a.getTotalValue=a.getTotalValue.bind(Object(d.a)(Object(d.a)(a))),a.changeCurrency=a.changeCurrency.bind(Object(d.a)(Object(d.a)(a))),a.reCalculateValues=a.reCalculateValues.bind(Object(d.a)(Object(d.a)(a))),a.calculateStockAndTotalValues=a.calculateStockAndTotalValues.bind(Object(d.a)(Object(d.a)(a))),a.setRealTimeValueAndTotal=a.setRealTimeValueAndTotal.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;le("function=CURRENCY_EXCHANGE_RATE&to_currency=USD&from_currency=EUR").then(function(t){if(null!=JSON.parse(t)["Realtime Currency Exchange Rate"]){var a=JSON.parse(t)["Realtime Currency Exchange Rate"]["5. Exchange Rate"];e.setState({EurToUsdRatio:a},function(){e.calculateStockAndTotalValues()})}else alert("Cannot get EUR-to-USD-ratio! "+JSON.parse(t).Note)},function(){return alert("Error connecting to Alphavantage!")})}},{key:"getTotalValue",value:function(){return this.state.rows.map(function(e){return e.total}).reduce(function(e,t){return e+t})}},{key:"calculateStockAndTotalValues",value:function(){var e=this,t=this.state.rows,a=0;t.forEach(function(n){e.setRealTimeValueAndTotal(n).then(function(){++a===t.length&&(e.setState({totalValue:e.getTotalValue()}),e.reCalculateValues())})})}},{key:"setRealTimeValueAndTotal",value:function(e){return(a=e.name,le("function=TIME_SERIES_INTRADAY&interval=5min&symbol="+a)).then(function(a){var n=JSON.parse(a);n.Note||n["Error Message"]?(alert("Price for "+e.name+" not found or reached API-call-limit! Using a spoofed value of 10$."),e.value=10,e.total=e.value*e.quantity):(e.value=t.parseStockValueFromAAJSON(a),e.total=e.value*e.quantity)});var a}},{key:"changeCurrency",value:function(e){var t=this,a=this.state.eurosSelected,n=e.currentTarget.value;"euro"!==n||a?"dollar"===n&&a&&this.setState({eurosSelected:!1},function(){t.reCalculateValues()}):this.setState({eurosSelected:!0},function(){t.reCalculateValues()})}},{key:"reCalculateValues",value:function(){var e=this.state,t=e.rows,a=e.eurosSelected,n=e.EurToUsdRatio,c=a?1/n:n;t.forEach(function(e){e.value=e.value*c,e.total=e.value*e.quantity}),this.setState({totalValue:this.getTotalValue()})}},{key:"checkMarkClick",value:function(e){var t=this.state.checkedStock;t.indexOf(e)>-1?this.setState({checkedStock:t.filter(function(t){return t!==e})}):(t.push(e),this.setState({checkedStock:t}))}},{key:"deleteCheckedStock",value:function(){var e=this,t=this.state,a=t.checkedStock,n=t.rows.filter(function(e){return!a.includes(e.name)});this.setState({rows:n,checkedStock:[]},function(){return e.setState({totalValue:e.getTotalValue()})})}},{key:"addStock",value:function(e,t){var a=this,n=this.state.rows;if(n.map(function(e){return e.name}).includes(e))alert("The stock "+e+" already exists!");else{var c={name:e,quantity:t};n.push(c),this.setRealTimeValueAndTotal(c).then(function(){n.sort(function(e,t){return e.name.localeCompare(t.name)||e.name.localeCompare(t.name)}),a.setState({addStockDialogOpen:!1,totalValue:a.getTotalValue()})})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.name,l=this.state,o=l.addStockDialogOpen,r=l.eurosSelected,i=l.totalValue;return c.a.createElement("div",{className:a.portfolio},c.a.createElement("div",{style:{textAlign:"right",height:"25px"}},c.a.createElement(b.a,{className:a.deleteButton,"aria-label":"Delete"},c.a.createElement(S.a,{color:"secondary"}))),c.a.createElement(k.a,{className:a.portfolioBase},c.a.createElement(Z,{classes:a,name:n,eurosSelected:r,changeCurrency:this.changeCurrency}),c.a.createElement("div",{className:a.tableWrapper},c.a.createElement(x,{classes:a,stocks:this.state.rows,checkMarkClick:this.checkMarkClick,currencySymbol:r?"\u20ac":"$"})),c.a.createElement(ee,{classes:a,totalValue:i,noCheckedStocks:!this.state.checkedStock.length>0,deleteCheckedStock:this.deleteCheckedStock,addStock:function(){return e.setState({addStockDialogOpen:!0})},currencySymbol:r?"\u20ac":"$"})),c.a.createElement(G,{portfolioName:n,isOpen:o,closeDialog:function(){return e.setState({addStockDialogOpen:!1})},submitStock:this.addStock}))}}],[{key:"parseStockValueFromAAJSON",value:function(e){var t=JSON.parse(e),a=Object.keys(t["Time Series (5min)"])[0];return(parseFloat(t["Time Series (5min)"][a]["1. open"])+parseFloat(t["Time Series (5min)"][a]["2. high"])+parseFloat(t["Time Series (5min)"][a]["3. low"])+parseFloat(t["Time Series (5min)"][a]["4. close"]))/4}}]),t}(n.Component),ie=Object(h.withStyles)(ae)(re),se=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Base"},c.a.createElement(ie,{name:"Testiportfolio"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[126,2,1]]]);
//# sourceMappingURL=main.6e68daf2.chunk.js.map