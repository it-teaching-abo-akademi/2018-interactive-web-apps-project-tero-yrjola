(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{141:function(e,t,a){e.exports=a(306)},146:function(e,t,a){},148:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(18),r=a.n(l),c=(a(146),a(50)),i=a(9),s=a(10),u=a(13),m=a(12),d=a(14),h=a(6),p=(a(148),a(93)),f=a(137),k=a.n(f),b=a(89),g=a.n(b),S=a(136),v=a.n(S),E=a(131),O=a.n(E),y=a(315),C=a(32),j=a.n(C),w=a(132),N=a.n(w),T=a(133),A=a.n(T),V=a(129),x=a.n(V),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={stocks:e.stocks},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.stocks,n=e.checkMarkClick,l=e.currencySymbol;return a.forEach(function(e){e.value||(e.value=0,e.total=0)}),o.a.createElement(x.a,null,o.a.createElement("colgroup",null,o.a.createElement("col",{width:"10%"}),o.a.createElement("col",{width:"15%"}),o.a.createElement("col",{width:"25%"}),o.a.createElement("col",{width:"25%"}),o.a.createElement("col",{width:"25%"})),o.a.createElement(O.a,null,o.a.createElement(y.a,{className:t.tableHead},o.a.createElement(j.a,{className:t.tableCell},"Select"),o.a.createElement(j.a,{className:t.tableCell},"Name"),o.a.createElement(j.a,{className:t.tableCell},"Unit value"),o.a.createElement(j.a,{className:t.tableCell},"Quantity"),o.a.createElement(j.a,{className:t.tableCell},"Total value"))),o.a.createElement(N.a,{className:t.tableBody},a.map(function(e){return o.a.createElement(y.a,{className:t.tableRow,key:e.name},o.a.createElement(j.a,{className:t.tableCell},o.a.createElement(A.a,{className:t.checkbox,onChange:function(){return n(e.name)}})),o.a.createElement(j.a,{className:t.tableCell},e.name),o.a.createElement(j.a,{className:t.tableCell},parseFloat(e.value).toFixed(2),l),o.a.createElement(j.a,{className:t.tableCell},e.quantity),o.a.createElement(j.a,{className:t.tableCell},e.total.toFixed(2),l))})))}}]),t}(n.Component),P=a(51),R=a.n(P),F=a(62),J=a.n(F),I=a(134),B=a.n(I),U=a(64),M=a.n(U),q=a(63),H=a.n(q),W=a(135),_=a.n(W),$=a(31),G=a.n($),Y=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).nameChange=function(e){a.setState({stockName:e.target.value})},a.amountChange=function(e){a.setState({stockAmount:e.target.value})},a.clearState=function(){a.setState({stockName:"",stockAmount:""})},a.state={stockName:"",stockAmount:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){!1===this.props.isOpen&&!0===e.isOpen&&this.clearState()}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.isOpen,n=e.closeDialog,l=e.submitStock,r=this.state,c=r.stockName,i=r.stockAmount;return o.a.createElement(B.a,{open:a,"aria-labelledby":"form-dialog-title"},o.a.createElement(J.a,{id:"form-dialog-title"},"Adding stock to portfolio: ",t),o.a.createElement(H.a,null,o.a.createElement(_.a,null,"Please enter your new stock's name and quantity below:"),o.a.createElement(R.a,{autoFocus:!0,margin:"dense",label:"Stock name",value:c,onChange:this.nameChange}),o.a.createElement(R.a,{margin:"dense",label:"Amount of stock",type:"number",value:i,onChange:this.amountChange})),o.a.createElement(M.a,null,o.a.createElement(G.a,{onClick:n,color:"primary"},"Cancel"),o.a.createElement(G.a,{onClick:function(){return l(c,i)},color:"primary"},"Add")))}}]),t}(n.Component),L=a(34),X=a.n(L),Q=a(47),z=a.n(Q),K=a(41),Z=a.n(K),ee=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,n=e.eurosSelected,l=e.changeCurrency;return o.a.createElement(Z.a,{className:t.portfolioHeader},o.a.createElement(X.a,{container:!0},o.a.createElement(X.a,{item:!0,xs:7},o.a.createElement(z.a,{noWrap:!0,variant:"h6"},a)),o.a.createElement(X.a,{item:!0,xs:!0},o.a.createElement(G.a,{onClick:l,variant:n?"contained":"outlined",value:"euro",color:"primary"},"\u20ac")),o.a.createElement(X.a,{item:!0,xs:!0},o.a.createElement(G.a,{onClick:l,variant:n?"outlined":"contained",value:"dollar",color:"primary"},"$"))))}}]),t}(n.Component),te=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.totalValue,n=e.addStock,l=e.noCheckedStocks,r=e.deleteCheckedStock,c=e.currencySymbol;return o.a.createElement(Z.a,{className:t.portfolioFooter},o.a.createElement(z.a,{variant:"caption"},"Total value of portfolio: ",a.toFixed(2),c),o.a.createElement(X.a,{container:!0,justify:"space-evenly"},o.a.createElement(X.a,{item:!0},o.a.createElement(G.a,{variant:"contained",onClick:n},"add stock")),o.a.createElement(X.a,{item:!0},o.a.createElement(G.a,{variant:"contained"},"perf. Graph")),o.a.createElement(X.a,{item:!0},o.a.createElement(G.a,{disabled:l,variant:"outlined",color:"secondary",onClick:r},"Delete"))))}}]),t}(n.Component),ae=function(e){return{deleteButton:{padding:0},portfolio:Object(c.a)({width:"400px",height:"325px"},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),portfolioBase:{height:"300px"},portfolioHeader:Object(c.a)({},e.mixins.gutters(),{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,marginBottom:"3px"}),portfolioFooter:{padding:e.spacing.unit,height:"54px"},tableWrapper:{height:"175px",overflowY:"scroll"},tableCell:{width:"20px",padding:"2px",textAlign:"center"},tableHead:{backgroundColor:"#fff",position:"sticky",top:0},tableRow:{height:"50px"},checkbox:{padding:"8px"}}},ne="https://www.alphavantage.co/query?",oe="H0LW74TMCBD0BJ0F";function le(e){return new Promise(function(t,a){var n=new XMLHttpRequest,o=ne+e+"&apikey="+oe;n.open("GET",o),n.onload=function(){200===n.status?t(n.response):a(Error(n.statusText))},n.onerror=function(){a(Error("Network Error"))},n.send()})}var re=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={eurosSelected:!0,totalValue:0,checkedStock:[],deleteStockButtonEnabled:!1,addStockDialogOpen:!1,rows:[]},t.parseStockValueFromAAJSON=t.parseStockValueFromAAJSON.bind(Object(h.a)(Object(h.a)(a))),a.checkMarkClick=a.checkMarkClick.bind(Object(h.a)(Object(h.a)(a))),a.deleteCheckedStock=a.deleteCheckedStock.bind(Object(h.a)(Object(h.a)(a))),a.addStock=a.addStock.bind(Object(h.a)(Object(h.a)(a))),a.getTotalValue=a.getTotalValue.bind(Object(h.a)(Object(h.a)(a))),a.changeCurrency=a.changeCurrency.bind(Object(h.a)(Object(h.a)(a))),a.reCalculateValues=a.reCalculateValues.bind(Object(h.a)(Object(h.a)(a))),a.calculateStockAndTotalValues=a.calculateStockAndTotalValues.bind(Object(h.a)(Object(h.a)(a))),a.setRealTimeValueAndTotal=a.setRealTimeValueAndTotal.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.name;this.setState({rows:JSON.parse(localStorage.getItem(t))},function(){e.setState({totalValue:e.getTotalValue()})})}},{key:"getTotalValue",value:function(){return 0===this.state.rows.length?0:this.state.rows.map(function(e){return e.total}).reduce(function(e,t){return e+t})}},{key:"calculateStockAndTotalValues",value:function(){var e=this,t=this.state.rows,a=0;t.forEach(function(n){e.setRealTimeValueAndTotal(n).then(function(){++a===t.length&&(e.setState({totalValue:e.getTotalValue()}),e.reCalculateValues())})})}},{key:"setRealTimeValueAndTotal",value:function(e){return(a=e.name,le("function=TIME_SERIES_INTRADAY&interval=5min&symbol="+a)).then(function(a){var n=JSON.parse(a);n.Note||n["Error Message"]?(alert("Price for "+e.name+" not found or reached API-call-limit! Using a spoofed value of 10$."),e.value=10,e.total=e.value*e.quantity):(e.value=t.parseStockValueFromAAJSON(a),e.total=e.value*e.quantity)});var a}},{key:"changeCurrency",value:function(e){var t=this,a=this.state.eurosSelected,n=e.currentTarget.value;"euro"!==n||a?"dollar"===n&&a&&this.setState({eurosSelected:!1},function(){t.reCalculateValues()}):this.setState({eurosSelected:!0},function(){t.reCalculateValues()})}},{key:"reCalculateValues",value:function(){var e=this.state,t=e.rows,a=e.eurosSelected,n=this.props.eurToUsdRatio,o=a?1/n:n;t.forEach(function(e){e.value=e.value*o,e.total=e.value*e.quantity}),this.setState({totalValue:this.getTotalValue()})}},{key:"checkMarkClick",value:function(e){var t=this.state.checkedStock;t.indexOf(e)>-1?this.setState({checkedStock:t.filter(function(t){return t!==e})}):(t.push(e),this.setState({checkedStock:t}))}},{key:"deleteCheckedStock",value:function(){var e=this,t=this.state,a=t.checkedStock,n=t.rows,o=this.props.name,l=n.filter(function(e){return!a.includes(e.name)});this.setState({rows:l,checkedStock:[]},function(){return e.setState({totalValue:e.getTotalValue()})}),localStorage.setItem(o,JSON.stringify(l))}},{key:"addStock",value:function(e,t){var a=this,n=this.state.rows,o=this.props.name;if(n.map(function(e){return e.name}).includes(e))alert("The stock "+e+" already exists!");else{var l={name:e,quantity:t};n.push(l),this.setRealTimeValueAndTotal(l).then(function(){n.sort(function(e,t){return e.name.localeCompare(t.name)||e.name.localeCompare(t.name)}),a.setState({addStockDialogOpen:!1,totalValue:a.getTotalValue()}),localStorage.setItem(o,JSON.stringify(n))})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.name,l=t.deletePortfolio,r=this.state,c=r.addStockDialogOpen,i=r.eurosSelected,s=r.totalValue;return o.a.createElement("div",{className:a.portfolio},o.a.createElement("div",{style:{textAlign:"right",height:"25px"}},o.a.createElement(g.a,{onClick:function(){return l(n)},className:a.deleteButton,"aria-label":"Delete"},o.a.createElement(v.a,{color:"secondary"}))),o.a.createElement(k.a,{className:a.portfolioBase},o.a.createElement(ee,{classes:a,name:n,eurosSelected:i,changeCurrency:this.changeCurrency}),o.a.createElement("div",{className:a.tableWrapper},o.a.createElement(D,{classes:a,stocks:this.state.rows,checkMarkClick:this.checkMarkClick,currencySymbol:i?"\u20ac":"$"})),o.a.createElement(te,{classes:a,totalValue:s,noCheckedStocks:!this.state.checkedStock.length>0,deleteCheckedStock:this.deleteCheckedStock,addStock:function(){return e.setState({addStockDialogOpen:!0})},currencySymbol:i?"\u20ac":"$"})),o.a.createElement(Y,{portfolioName:n,isOpen:c,closeDialog:function(){return e.setState({addStockDialogOpen:!1})},submitStock:this.addStock}))}}],[{key:"parseStockValueFromAAJSON",value:function(e){var t=JSON.parse(e),a=Object.keys(t["Time Series (5min)"])[0];return(parseFloat(t["Time Series (5min)"][a]["1. open"])+parseFloat(t["Time Series (5min)"][a]["2. high"])+parseFloat(t["Time Series (5min)"][a]["3. low"])+parseFloat(t["Time Series (5min)"][a]["4. close"]))/4}}]),t}(n.Component),ce=Object(p.withStyles)(ae)(re),ie=a(67),se=a(138),ue=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={eurToUsdRatio:1,newPortfolioName:"",newPortfolioDialogIsOpen:!1,portfolios:[]},a.handleChange=a.handleChange.bind(Object(h.a)(Object(h.a)(a))),a.deletePortfolio=a.deletePortfolio.bind(Object(h.a)(Object(h.a)(a))),a.addPortfolioAndCloseDialog=a.addPortfolioAndCloseDialog.bind(Object(h.a)(Object(h.a)(a))),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({portfolios:Object.keys(Object(c.a)({},localStorage))}),le("function=CURRENCY_EXCHANGE_RATE&to_currency=USD&from_currency=EUR").then(function(t){if(null!=JSON.parse(t)["Realtime Currency Exchange Rate"]){var a=JSON.parse(t)["Realtime Currency Exchange Rate"]["5. Exchange Rate"];e.setState({eurToUsdRatio:a})}else alert("Cannot get EUR-to-USD-ratio! "+JSON.parse(t).Note)},function(){return alert("Error connecting to Alphavantage!")})}},{key:"deletePortfolio",value:function(e){var t=this.state.portfolios;t.includes(e)&&(t.splice(t.indexOf(e),1),localStorage.removeItem(e),this.forceUpdate())}},{key:"addPortfolioAndCloseDialog",value:function(){var e=this.state,t=e.portfolios,a=e.newPortfolioName;t.includes(a)?alert("Portfolio "+a+" already exists!"):(t.push(a),localStorage.setItem(a,JSON.stringify([])),this.setState({newPortfolioName:"",newPortfolioDialogIsOpen:!1}))}},{key:"handleChange",value:function(e){this.setState({newPortfolioName:e.target.value})}},{key:"render",value:function(){var e=this,t=this.state,a=t.portfolios,n=t.eurToUsdRatio,l=t.newPortfolioDialogIsOpen;return o.a.createElement("div",{className:"Base"},o.a.createElement(ie.a,{onClick:function(){return e.setState({newPortfolioDialogIsOpen:!0})}},"Add new portfolio"),a.map(function(t){return o.a.createElement(ce,{deletePortfolio:function(t){return e.deletePortfolio(t)},key:t,name:t,eurToUsdRatio:n})}),o.a.createElement(se.a,{open:l,"aria-labelledby":"form-dialog-title"},o.a.createElement(J.a,{id:"form-dialog-title"},"Add new portfolio"),o.a.createElement(H.a,null,o.a.createElement(R.a,{onChange:this.handleChange,autoFocus:!0,margin:"dense",label:"Portfolio name"})),o.a.createElement(M.a,null,o.a.createElement(ie.a,{onClick:function(){return e.setState({newPortfolioDialogIsOpen:!1})},color:"primary"},"Cancel"),o.a.createElement(ie.a,{type:"submit",onClick:this.addPortfolioAndCloseDialog,color:"primary"},"Add"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(ue,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[141,2,1]]]);
//# sourceMappingURL=main.60aee7bc.chunk.js.map