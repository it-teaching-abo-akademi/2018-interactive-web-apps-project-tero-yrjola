(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,a){e.exports=a(294)},131:function(e,t,a){},133:function(e,t,a){},294:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(24),o=a.n(l),r=(a(131),a(18)),i=a(19),s=a(21),u=a(20),m=a(22),d=(a(133),a(17)),h=a(75),p=a(125),k=a.n(p),b=a(74),f=a.n(b),E=a(124),v=a.n(E),g=a(116),y=a.n(g),C=a(296),S=a(28),O=a.n(S),j=a(117),w=a.n(j),N=a(118),x=a.n(N),T=a(114),V=a.n(T),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={stocks:e.stocks},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.stocks,n=e.checkMarkClick,l=e.currencySymbol;return c.a.createElement(V.a,null,c.a.createElement("colgroup",null,c.a.createElement("col",{width:"10%"}),c.a.createElement("col",{width:"15%"}),c.a.createElement("col",{width:"25%"}),c.a.createElement("col",{width:"25%"}),c.a.createElement("col",{width:"25%"})),c.a.createElement(y.a,null,c.a.createElement(C.a,{className:t.tableHead},c.a.createElement(O.a,{className:t.tableCell},"Select"),c.a.createElement(O.a,{className:t.tableCell},"Name"),c.a.createElement(O.a,{className:t.tableCell},"Unit value"),c.a.createElement(O.a,{className:t.tableCell},"Quantity"),c.a.createElement(O.a,{className:t.tableCell},"Total value"))),c.a.createElement(w.a,{className:t.tableBody},a.map(function(e){return c.a.createElement(C.a,{className:t.tableRow,key:e.name},c.a.createElement(O.a,{className:t.tableCell},c.a.createElement(x.a,{className:t.checkbox,onChange:function(){return n(e.name)}})),c.a.createElement(O.a,{className:t.tableCell},e.name),c.a.createElement(O.a,{className:t.tableCell},e.value.toFixed(2),l),c.a.createElement(O.a,{className:t.tableCell},e.quantity),c.a.createElement(O.a,{className:t.tableCell},e.total.toFixed(2),l))})))}}]),t}(n.Component),D=a(76),R=a.n(D),q=a(120),A=a.n(q),M=a(119),F=a.n(M),H=a(123),W=a.n(H),U=a(121),J=a.n(U),$=a(122),_=a.n($),G=a(27),L=a.n(G),P=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).nameChange=function(e){a.setState({stockName:e.target.value})},a.amountChange=function(e){a.setState({stockAmount:e.target.value})},a.clearState=function(){a.setState({stockName:"",stockAmount:""})},a.state={stockName:"",stockAmount:""},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(e){!1===this.props.isOpen&&!0===e.isOpen&&this.clearState()}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.isOpen,n=e.closeDialog,l=e.submitStock,o=this.state,r=o.stockName,i=o.stockAmount;return c.a.createElement(F.a,{open:a,"aria-labelledby":"form-dialog-title"},c.a.createElement(A.a,{id:"form-dialog-title"},"Adding stock to portfolio: ",t),c.a.createElement(J.a,null,c.a.createElement(_.a,null,"Please enter your new stock's name and quantity below:"),c.a.createElement(R.a,{autoFocus:!0,margin:"dense",label:"Stock name",value:r,onChange:this.nameChange}),c.a.createElement(R.a,{margin:"dense",label:"Amount of stock",type:"number",value:i,onChange:this.amountChange})),c.a.createElement(W.a,null,c.a.createElement(L.a,{onClick:n,color:"primary"},"Cancel"),c.a.createElement(L.a,{onClick:function(){return l(r,i)},color:"primary"},"Add")))}}]),t}(n.Component),X=a(29),Y=a.n(X),I=a(38),Q=a.n(I),z=a(32),K=a.n(z),Z=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.name,n=e.eurosSelected,l=e.changeCurrency;return c.a.createElement(K.a,{className:t.portfolioHeader},c.a.createElement(Y.a,{container:!0},c.a.createElement(Y.a,{item:!0,xs:7},c.a.createElement(Q.a,{noWrap:!0,variant:"h6"},a)),c.a.createElement(Y.a,{item:!0,xs:!0},c.a.createElement(L.a,{onClick:l,variant:n?"contained":"outlined",value:"euro",color:"primary"},"\u20ac")),c.a.createElement(Y.a,{item:!0,xs:!0},c.a.createElement(L.a,{onClick:l,variant:n?"outlined":"contained",value:"dollar",color:"primary"},"$"))))}}]),t}(n.Component),ee=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.totalValue,n=e.addStock,l=e.noCheckedStocks,o=e.deleteCheckedStock,r=e.currencySymbol;return c.a.createElement(K.a,{className:t.portfolioFooter},c.a.createElement(Q.a,{variant:"caption"},"Total value of portfolio: ",a.toFixed(2),r),c.a.createElement(Y.a,{container:!0,justify:"space-evenly"},c.a.createElement(Y.a,{item:!0},c.a.createElement(L.a,{variant:"contained",onClick:n},"add stock")),c.a.createElement(Y.a,{item:!0},c.a.createElement(L.a,{variant:"contained"},"perf. Graph")),c.a.createElement(Y.a,{item:!0},c.a.createElement(L.a,{disabled:l,variant:"outlined",color:"secondary",onClick:o},"Delete"))))}}]),t}(n.Component),te=a(77),ae=function(e){return{deleteButton:{padding:0},portfolio:Object(te.a)({width:"400px",height:"325px"},e.mixins.gutters(),{paddingTop:2*e.spacing.unit,paddingBottom:2*e.spacing.unit}),portfolioBase:{height:"300px"},portfolioHeader:Object(te.a)({},e.mixins.gutters(),{paddingTop:e.spacing.unit,paddingBottom:e.spacing.unit,marginBottom:"3px"}),portfolioFooter:{padding:e.spacing.unit},tableWrapper:{height:"175px",overflowY:"scroll"},tableCell:{width:"20px",padding:"2px",textAlign:"center"},tableHead:{backgroundColor:"#fff",position:"sticky",top:0},tableRow:{height:"50px"},checkbox:{padding:"8px"}}},ne="https://www.alphavantage.co/query?",ce="H0LW74TMCBD0BJ0F",le=function(){return function(e){return new Promise(function(t,a){var n=new XMLHttpRequest,c=ne+e+"&apikey="+ce;n.open("GET",c),n.onload=function(){200===n.status?t(n.response):a(Error(n.statusText))},n.onerror=function(){a(Error("Network Error"))},n.send()})}("function=CURRENCY_EXCHANGE_RATE&&from_currency=USD&to_currency=EUR")};var oe=[{name:"Eclair",value:262,quantity:16,total:24},{name:"Eclair2",value:262,quantity:16,total:24},{name:"Eclair3",value:262,quantity:16,total:24},{name:"Eclair4",value:262,quantity:16,total:24},{name:"Eclair5",value:262,quantity:16,total:24},{name:"Eclair6",value:262,quantity:16,total:24}],re=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={eurosSelected:!0,totalValue:0,checkedStock:[],deleteStockButtonEnabled:!1,addStockDialogOpen:!1,rows:oe,usdToEurRatio:0},a.checkMarkClick=a.checkMarkClick.bind(Object(d.a)(Object(d.a)(a))),a.deleteCheckedStock=a.deleteCheckedStock.bind(Object(d.a)(Object(d.a)(a))),a.addStock=a.addStock.bind(Object(d.a)(Object(d.a)(a))),a.getTotalValue=a.getTotalValue.bind(Object(d.a)(Object(d.a)(a))),a.changeCurrency=a.changeCurrency.bind(Object(d.a)(Object(d.a)(a))),a.reCalculateValues=a.reCalculateValues.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;le().then(function(t){var a=JSON.parse(t)["Realtime Currency Exchange Rate"]["5. Exchange Rate"];e.setState({usdToEurRatio:a},function(){e.setState({totalValue:e.getTotalValue()}),e.reCalculateValues()})},function(){return alert("Error connecting to Alphavantage!")})}},{key:"getTotalValue",value:function(){return this.state.rows.map(function(e){return e.total}).reduce(function(e,t){return e+t})}},{key:"changeCurrency",value:function(e){var t=this,a=this.state.eurosSelected,n=e.currentTarget.value;"euro"!==n||a?"dollar"===n&&a&&this.setState({eurosSelected:!1},function(){t.reCalculateValues()}):this.setState({eurosSelected:!0},function(){t.reCalculateValues()})}},{key:"reCalculateValues",value:function(){var e=this.state,t=e.rows,a=e.eurosSelected,n=e.usdToEurRatio,c=a?n:1/n;t.forEach(function(e){e.value=e.value*c,e.total=e.value*e.quantity}),this.setState({totalValue:this.getTotalValue()})}},{key:"checkMarkClick",value:function(e){var t=this.state.checkedStock;t.indexOf(e)>-1?this.setState({checkedStock:t.filter(function(t){return t!==e})}):(t.push(e),this.setState({checkedStock:t}))}},{key:"deleteCheckedStock",value:function(){var e=this,t=this.state,a=t.checkedStock,n=t.rows.filter(function(e){return!a.includes(e.name)});this.setState({rows:n,checkedStock:[]},function(){return e.setState({totalValue:e.getTotalValue()})})}},{key:"addStock",value:function(e,t){var a=this.state.rows;if(a.map(function(e){return e.name}).includes(e))alert("The stock "+e+" already exists!");else{var n={name:e,value:5,quantity:t,total:""};n.total=n.value*t,a.push(n),a.sort(function(e,t){return e.name.localeCompare(t.name)||e.name.localeCompare(t.name)}),this.setState({addStockDialogOpen:!1,totalValue:this.getTotalValue()})}}},{key:"render",value:function(){var e=this,t=this.props,a=t.classes,n=t.name,l=this.state,o=l.addStockDialogOpen,r=l.eurosSelected,i=l.totalValue;return c.a.createElement("div",{className:a.portfolio},c.a.createElement("div",{style:{textAlign:"right",height:"25px"}},c.a.createElement(f.a,{className:a.deleteButton,"aria-label":"Delete"},c.a.createElement(v.a,{color:"secondary"}))),c.a.createElement(k.a,{className:a.portfolioBase},c.a.createElement(Z,{classes:a,name:n,eurosSelected:r,changeCurrency:this.changeCurrency}),c.a.createElement("div",{className:a.tableWrapper},c.a.createElement(B,{classes:a,stocks:this.state.rows,checkMarkClick:this.checkMarkClick,currencySymbol:r?"\u20ac":"$"})),c.a.createElement(ee,{classes:a,totalValue:i,noCheckedStocks:!this.state.checkedStock.length>0,deleteCheckedStock:this.deleteCheckedStock,addStock:function(){return e.setState({addStockDialogOpen:!0})},currencySymbol:r?"\u20ac":"$"})),c.a.createElement(P,{portfolioName:n,isOpen:o,closeDialog:function(){return e.setState({addStockDialogOpen:!1})},submitStock:this.addStock}))}}]),t}(n.Component),ie=Object(h.withStyles)(ae)(re),se=function(e){function t(){return Object(r.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"Base"},c.a.createElement(ie,{name:"Testiportfolio"}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(se,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[126,2,1]]]);
//# sourceMappingURL=main.138b98f4.chunk.js.map